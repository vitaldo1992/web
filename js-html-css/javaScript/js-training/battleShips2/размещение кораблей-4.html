<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>Размещение кораблей 4</title>
</head>
<body>
  <script>
  var arr = new Array(10);
  (function makeArray() {
    for (var i = 0; i<10; i++) {
      arr[i] = new Array(10);
      for (var j = 0; j<10;j++) {
        arr[i][j] = 0;
      }
    }
    // console.table(arr)
  })();

  var x,y,direction;

  // arr[0][1]=1;arr[1][1]=1;arr[2][1]=1;arr[3][1]=1;arr[4][1]=1;arr[5][1]=1;
  // arr[0][3]=1;arr[1][3]=1;arr[2][3]=1;arr[3][3]=1;arr[4][3]=1;arr[5][3]=1;
  // arr[0][2]=1;
  // arr[1][2]="xx";
  // arr[2][2]="xx";
  // arr[3][2]="xx";
  // arr[4][2]="xx";
  // arr[5][2]=1;
  console.table(arr)
  function MakeDirection() {
    direction = Math.round(Math.random());
    x = Math.round(Math.random()*9);
    y = Math.round(Math.random()*9);
    console.log("x and y:",x,y);
    console.log(direction);
    checkDirection();
  };

  MakeDirection();
  // x=1;
  // y=0;
  direction=0;

  // arr[x+4][y]="xx";
  // if (direction==0) {
  //   console.log("vertical direction, ",direction)
  // checkDirection();
  // }



  console.log("x","y",arr[x][y]);

  function checkDirection() {
    if (arr[x-1]!=undefined && arr[x+5]!=undefined) {
      var i,j,shit;
      for (i = x-1; i<x+6; i++) {
        for (j = y-1; j<y+2;j++) {
          if (arr[i][j] == 1) {
            console.log("you are fucked ", i,j);
            shit="shit";
          };
          if (i>x-1 && i<x+4 && arr[i][j]=="xx") {
            console.log("you are fucked again", i,j);
            shit="shit";
          };
        };
      };

    };
    var i,j,shit;
    if (arr[x-1]==undefined && arr[x+5]!=undefined) {

      for (i = x; i<x+6; i++) {
        for (j = y-1; j<y+2;j++) {
          if (arr[i][j] == 1) {
            console.log("you are fucked ", i,j);
            shit="shit";
          };
          if (i>=x && i<x+4 && arr[i][j]=="xx") {
            console.log("you are fucked again", i,j);
            shit="shit";
          };
        };
      };
    };

    if (arr[x+1]==undefined || arr[x+2]==undefined || arr[x+3]==undefined || arr[x+4]==undefined) {
      shit="shit";
      console.log("bleatb")
    }

    if (arr[x-1]!=undefined && arr[x+5]==undefined) {
      var i,j,shit;
      for (i = x-1; i<x+5; i++) {
        for (j = y-1; j<y+2;j++) {
          if (arr[i][j] == 1) {
            console.log("you are fucked ", i,j);
            shit="shit";
          };
          if (i>x-1 && i<x+3 && arr[i][j]=="xx") {
            console.log("you are fucked again", i,j);
            shit="shit";
          };
        };
      };

      if (shit=="shit") {
        console.log("its shit");
        MakeDirection();
      }
      else {
        console.log("its dont shit");
        if (arr[x-1]!=undefined) {
          arr[x-1][y-1]="xx";arr[x-1][y]="xx";arr[x-1][y+1]="xx";
        };
        if (arr[x+4]!=undefined) {
          arr[x+4][y+4]="xx";arr[x+4][y]="xx";arr[x+4][y+1]="xx";
        };
        for (i = x-1; i<x+4; i++) {
          for (j = y-1; j<y+2;j++) {
            arr[i][j]="xx";
            if (j==y) {
              arr[i][j]=1
            };
          };
        };
      }
    };
  }
  console.table(arr)
  </script>
</body>
</html>
